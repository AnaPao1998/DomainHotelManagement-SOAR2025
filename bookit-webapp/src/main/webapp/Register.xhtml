<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

<h:head>
    <h:outputStylesheet name="css/styles.css"/>
    <title>Bookit! User Registration</title>
</h:head>
<h:body style="background-color: #f5f5f5;"> <div align="center" style="margin-top: 50px;">

    <p:panel style="width: 550px; text-align: left;">

        <div align="center">
            <h:graphicImage library="images"
                            name="logoBookit.png"
                            width="120"
                            styleClass="header-logo"/>
            <h2 style="font-family: 'Segoe UI', sans-serif; color: #333;">Create New User Account</h2>
        </div>

        <h:form id="registerForm">

            <p:messages globalOnly="true" showDetail="true" closable="true"/>
            <p:growl id="growl" showDetail="true" life="5000"/>

            <p:panelGrid columns="2"
                         layout="grid"
                         styleClass="ui-fluid"
                         columnClasses="p-col-4, p-col-8">

                <p:outputLabel for="selectUserRole" value="Select Role:"/>
                <p:selectOneRadio id="selectUserRole" value="#{registerBean.role}"
                                  layout="responsive" columns="2" required="true"
                                  requiredMessage="You must select a role.">
                    <f:selectItem itemLabel="Traveler" itemValue="guest"/>
                    <f:selectItem itemLabel="Manager" itemValue="manager"/>
                    <p:ajax update="@form" process="@this"/>
                </p:selectOneRadio>

                <p:outputLabel for="managerCode" value="Access Code:"
                               style="color: #d9534f; font-weight: bold;"/>

                <p:password id="managerCode" value="#{registerBean.managerCode}"
                            placeholder="Admin Secret Key"
                            toggleMask="true"/>

                <p:outputLabel for="firstName" value="First Name:"/>
                <p:inputText id="firstName" value="#{registerBean.firstName}" required="true"
                             requiredMessage="First Name is required."/>

                <p:outputLabel for="lastName" value="Last Name:"/>
                <p:inputText id="lastName" value="#{registerBean.lastName}" required="true"
                             requiredMessage="Last Name is required."/>

                <p:outputLabel for="email" value="Email:"/>
                <p:inputText id="email" value="#{registerBean.email}" required="true"
                             requiredMessage="Email is required."/>

                <p:outputLabel for="password" value="Password:"/>
                <p:password id="password" value="#{registerBean.password}" required="true"
                            toggleMask="true" feedback="true"
                            requiredMessage="Password is required."/>

                <p:outputLabel for="confirmPassword" value="Confirm Password:"/>
                <p:password id="confirmPassword" value="#{registerBean.confirmPassword}" required="true"
                            toggleMask="true"
                            requiredMessage="Confirm Password is required."/>

            </p:panelGrid>

            <div align="center" style="margin-top: 20px;">
                <p:commandButton id="registerButton" value="Sign Up"
                                 action="#{registerBean.register()}"
                                 oncomplete="#{registerBean.reset()}"
                                 update="registerForm growl"
                                 icon="pi pi-user-plus"
                                 styleClass="ui-button-primary"
                                 style="width: 200px;"/>
            </div>

        </h:form>

        <div style="margin-top: 20px; border-top: 1px solid #eee; padding-top: 10px; text-align: center;">
            <h:outputText value="Already have an account? "/>
            <p:link value="Log In Now" outcome="Login.xhtml" style="font-weight: bold;"/>
        </div>

    </p:panel>
</div>
</h:body>
</html>